(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-488b8a10"],{"0a3a":function(t,e,n){"use strict";n("2c28")},1393:function(t,e,n){"use strict";var c=n("23e7"),r=n("857a"),a=n("af03");c({target:"String",proto:!0,forced:a("big")},{big:function(){return r(this,"big","","")}})},"2c28":function(t,e,n){},"857a":function(t,e,n){var c=n("1d80"),r=n("577e"),a=/"/g;t.exports=function(t,e,n,i){var u=r(c(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+r(i).replace(a,"&quot;")+'"'),o+">"+u+"</"+e+">"}},af03:function(t,e,n){var c=n("d039");t.exports=function(t){return c((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},af19:function(t,e,n){"use strict";n.r(e);var c=n("7a23"),r=Object(c["n"])("div",{class:"card-header"},[Object(c["n"])("span",null,"请完成安全验证")],-1),a={class:"card-body"},i={style:{width:"272px",height:"169px",margin:"auto"}},u={id:"captchaTip"},o=["src"],s=["src"],b=Object(c["p"])("确认"),l={class:"card-body"};function f(t,e,n,f,p,d){var g=Object(c["R"])("el-col"),O=Object(c["R"])("el-row"),j=Object(c["R"])("el-button"),h=Object(c["R"])("el-card"),m=Object(c["R"])("el-result");return Object(c["I"])(),Object(c["m"])(c["b"],null,[Object(c["hb"])(Object(c["q"])(O,{span:24,onTouchend:t.remove},{default:Object(c["gb"])((function(){return[Object(c["q"])(g,{span:24},{default:Object(c["gb"])((function(){return[Object(c["q"])(h,{style:{"max-width":"510px","justify-content":"center",margin:"auto"}},{header:Object(c["gb"])((function(){return[r]})),default:Object(c["gb"])((function(){return[Object(c["n"])("div",a,[Object(c["q"])(O,{class:"demo-autocomplete"},{default:Object(c["gb"])((function(){return[Object(c["q"])(g,null,{default:Object(c["gb"])((function(){return[Object(c["n"])("div",i,[Object(c["n"])("div",u,[Object(c["n"])("img",{id:"cpcImg",src:t.imgUrl,onClick:e[0]||(e[0]=function(){return f.captchaTipclick&&f.captchaTipclick.apply(f,arguments)})},null,8,o),(Object(c["I"])(!0),Object(c["m"])(c["b"],null,Object(c["P"])(t.pointlist,(function(t){return Object(c["I"])(),Object(c["m"])("div",{class:"radio",key:t.tipIndex,style:Object(c["z"])({left:t.left+"px",top:t.top+"px"})},Object(c["V"])(t.tipIndex),5)})),128))])]),Object(c["n"])("img",{id:"cpcTipImg",src:t.imgUrl2,width:"275"},null,8,s)]})),_:1})]})),_:1}),Object(c["q"])(j,{type:"primary",size:"medium",round:"",onClick:f.cap2click},{default:Object(c["gb"])((function(){return[b]})),_:1},8,["onClick"])])]})),_:1})]})),_:1})]})),_:1},8,["onTouchend"]),[[c["db"],t.ShowCaptcha2]]),Object(c["hb"])(Object(c["q"])(O,{span:24,onTouchend:t.remove},{default:Object(c["gb"])((function(){return[Object(c["q"])(g,{span:24},{default:Object(c["gb"])((function(){return[Object(c["q"])(h,{style:{"max-width":"510px","justify-content":"center",margin:"auto"}},{default:Object(c["gb"])((function(){return[Object(c["n"])("div",l,[Object(c["hb"])(Object(c["q"])(m,{icon:"error",title:"错误","sub-title":t.message},null,8,["sub-title"]),[[c["db"],!t.ShowOK]]),Object(c["hb"])(Object(c["q"])(m,{icon:"success",title:"成功","sub-title":t.message},null,8,["sub-title"]),[[c["db"],t.ShowOK]])])]})),_:1})]})),_:1})]})),_:1},8,["onTouchend"]),[[c["db"],!t.ShowCaptcha2]])],64)}var p=n("5530"),d=n("1da1"),g=(n("96cf"),n("1393"),n("c96a"),n("159b"),n("7864")),O=n("365c"),j={props:{id:{type:String,default:""}},setup:function(t){var e=Object(c["M"])({imgUrl:"",imgUrl2:"",ShowCaptcha2:!0,ShowOK:!1,message:"访问错误",pointlist:[]}),n=function(){var n=Object(d["a"])(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!=t.id){n.next=3;break}return e.ShowCaptcha2=!1,n.abrupt("return",!1);case 3:return n.next=5,Object(O["b"])(t.id);case 5:if(c=n.sent,e.ShowCaptcha2=c.success,c.success){n.next=10;break}return e.message=c.message,n.abrupt("return",!1);case 10:e.imgUrl="data:image/png;base64,"+c.data.big,e.imgUrl2="data:image/png;base64,"+c.data.small;case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(c["F"])(n);var r=function(){var n=Object(d["a"])(regeneratorRuntime.mark((function n(){var c,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(4==e.pointlist.length){n.next=2;break}return n.abrupt("return");case 2:return c=g["a"].service({lock:!0,text:"验证中请稍候.."}),r=[],e.pointlist.forEach((function(t){r.push({tipIndex:t.tipIndex,offsetX:t.offsetX,offsetY:t.offsetY})})),n.next=7,Object(O["g"])({Phone:t.id,point:r});case 7:if(a=n.sent,c.close(),!a.success){n.next=17;break}return g["b"].success("认证成功"),e.ShowCaptcha2=!1,e.message="请返回机器人输入验证码!",e.ShowOK=!0,n.abrupt("return",!0);case 17:if(e.pointlist=[],666!=a.data.status){n.next=24;break}g["b"].error("验证失败,请重试"),e.imgUrl="data:image/png;base64,"+a.data.big,e.imgUrl2="data:image/png;base64,"+a.data.small,n.next=27;break;case 24:return e.ShowCaptcha2=!1,g["b"].error(a.message),n.abrupt("return",!1);case 27:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a=function(t){if(4!=e.pointlist.length){var n=e.pointlist.length+1,c=t.currentTarget.offsetLeft+t.offsetX-15,r=t.currentTarget.offsetTop+t.offsetY-15;console.log({tipIndex:n,left:c,top:r}),e.pointlist.push({tipIndex:n,left:c,top:r,offsetX:t.offsetX,offsetY:t.offsetY})}};return Object(p["a"])(Object(p["a"])({},Object(c["Y"])(e)),{},{getInfo:n,cap2click:r,captchaTipclick:a})}},h=(n("0a3a"),n("6b0d")),m=n.n(h);const w=m()(j,[["render",f]]);e["default"]=w},c96a:function(t,e,n){"use strict";var c=n("23e7"),r=n("857a"),a=n("af03");c({target:"String",proto:!0,forced:a("small")},{small:function(){return r(this,"small","","")}})}}]);